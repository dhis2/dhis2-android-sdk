name: Deploy API docs

on:
  push:
    branches:
      - master

  workflow_dispatch:

jobs:
  api-docs:
    uses: dhis2/workflows/.github/workflows/publish-dokka-to-github-pages.yml@9515eb8
    with:
      java_version: 17
      gradle_args: "-PremoveSnapshotSuffix"
      gradle_module: "core"
      output_folder: "api"
